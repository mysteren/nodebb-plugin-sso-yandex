# NodeBB Yandex SSO

[![npm version](https://badge.fury.io/js/nodebb-plugin-sso-yandex2.svg?nocache=1)](https://badge.fury.io/js/nodebb-plugin-sso-yandex2)
[![Downloads](https://img.shields.io/npm/dm/nodebb-plugin-sso-yandex2.svg)](https://www.npmjs.com/package/nodebb-plugin-sso-yandex2)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

**[English](README.md) | [–†—É—Å—Å–∫–∏–π](README.ru.md)**

## –û –ø–ª–∞–≥–∏–Ω–µ

–ü–ª–∞–≥–∏–Ω –¥–ª—è NodeBB, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤—Ö–æ–¥–∏—Ç—å –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å OAuth 2.0. –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å OAuth 2.0
- üë§ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–æ—Ñ–∏–ª—è
- üîó –ü—Ä–∏–≤—è–∑–∫–∞/–æ—Ç–≤—è–∑–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–∞
- ‚öôÔ∏è –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –ø–∞–Ω–µ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- üì± –ú–æ–±–∏–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ß–µ—Ä–µ–∑ npm

```bash
npm install nodebb-plugin-sso-yandex2
```

### –ß–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ NodeBB

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è** ‚Üí **–ü–ª–∞–≥–∏–Ω—ã**
2. –ù–∞–π–¥–∏—Ç–µ `nodebb-plugin-sso-yandex2`
3. –ù–∞–∂–º–∏—Ç–µ **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å** –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ
4. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ NodeBB

## –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –°–æ–∑–¥–∞–π—Ç–µ OAuth –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –Ø–Ω–¥–µ–∫—Å–µ

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://oauth.yandex.com/client/new
2. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –≤ –Ø–Ω–¥–µ–∫—Å–µ
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π "–í–µ–±-—Å–µ—Ä–≤–∏—Å—ã"

### 2. –î–æ–±–∞–≤—å—Ç–µ Redirect URI

–í –∫–æ–Ω—Å–æ–ª–∏ –Ø–Ω–¥–µ–∫—Å–∞ –¥–æ–±–∞–≤—å—Ç–µ URL –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞:

```
https://–≤–∞—à-—Ñ–æ—Ä—É–º.ru/auth/yandex/callback
```

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```
http://localhost:4567/auth/yandex/callback
```

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–ª–∞–≥–∏–Ω

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞** ‚Üí **–ü–ª–∞–≥–∏–Ω—ã** ‚Üí **NodeBB Yandex SSO**
2. –í–≤–µ–¥–∏—Ç–µ **Client ID**
3. –í–≤–µ–¥–∏—Ç–µ **Client Secret**
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:** –ù–∞–∂–∏–º–∞—é—Ç –∫–Ω–æ–ø–∫—É "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Ö–æ–¥–∞

**–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã:** –£–ø—Ä–∞–≤–ª—è—é—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ SSO –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–ª–∞–≥–∏–Ω–∞

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|----------|
| "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π Redirect URI" | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ URI —Å–æ–≤–ø–∞–¥–∞–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏ –Ø–Ω–¥–µ–∫—Å–∞ –∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø–ª–∞–≥–∏–Ω–∞ |
| "–ù–µ–≤–µ—Ä–Ω—ã–π Client ID" | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ OAuth –Ø–Ω–¥–µ–∫—Å–∞ |
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥—É—Ç –≤–æ–π—Ç–∏ | –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ NodeBB –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–ª–∞–≥–∏–Ω –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω |

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
npm install
npm run lint
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Node.js 18+
- NodeBB 3.2+

## –í–Ω–µ—Å–µ–Ω–∏–µ –≤–∫–ª–∞–¥–∞

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É: `git checkout -b feature/name`
3. –°–¥–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç: `git commit -m '–î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é'`
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ: `git push origin feature/name`
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- üìß Email: mysterenct@gmail.com
- üêõ [Issues](https://github.com/mysteren/nodebb-plugin-sso-yandex/issues)
- üí¨ [–°–æ–æ–±—â–µ—Å—Ç–≤–æ NodeBB](https://community.nodebb.org)

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. [LICENSE](./LICENSE)

---

**–°–æ–∑–¥–∞–Ω–æ [TimofeyC](https://github.com/mysteren)**
